<!DOCTYPE html>
<html lang="zh-CN" class="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>è§†é¢‘å­—å¹•æ’­æ”¾å™¨</title>
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --background: 0 0% 100%;
      --foreground: 222.2 84% 4.9%;
      --card: 0 0% 100%;
      --card-foreground: 222.2 84% 4.9%;
      --popover: 0 0% 100%;
      --popover-foreground: 222.2 84% 4.9%;
      --primary: 221.2 83.2% 53.3%;
      --primary-foreground: 210 40% 98%;
      --secondary: 210 40% 96%;
      --secondary-foreground: 222.2 84% 4.9%;
      --muted: 210 40% 96%;
      --muted-foreground: 215.4 16.3% 46.9%;
      --accent: 210 40% 96%;
      --accent-foreground: 222.2 84% 4.9%;
      --destructive: 0 84.2% 60.2%;
      --destructive-foreground: 210 40% 98%;
      --border: 214.3 31.8% 91.4%;
      --input: 214.3 31.8% 91.4%;
      --ring: 221.2 83.2% 53.3%;
      --radius: 0.5rem;
    }

    .dark {
      --background: 222.2 84% 4.9%;
      --foreground: 210 40% 98%;
      --card: 222.2 84% 4.9%;
      --card-foreground: 210 40% 98%;
      --popover: 222.2 84% 4.9%;
      --popover-foreground: 210 40% 98%;
      --primary: 217.2 91.2% 59.8%;
      --primary-foreground: 222.2 84% 4.9%;
      --secondary: 217.2 32.6% 17.5%;
      --secondary-foreground: 210 40% 98%;
      --muted: 217.2 32.6% 17.5%;
      --muted-foreground: 215 20.2% 65.1%;
      --accent: 217.2 32.6% 17.5%;
      --accent-foreground: 210 40% 98%;
      --destructive: 0 62.8% 30.6%;
      --destructive-foreground: 210 40% 98%;
      --border: 217.2 32.6% 17.5%;
      --input: 217.2 32.6% 17.5%;
      --ring: 224.3 76.3% 94.1%;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      background: hsl(var(--background));
      color: hsl(var(--foreground));
      min-height: 100vh;
      height: 100vh; /* å›ºå®šé«˜åº¦ */
      transition: background-color 0.3s, color 0.3s;
      overflow: hidden; /* é˜²æ­¢çª—å£å‡ºç°æ»šåŠ¨æ¡å½±å“æ‹–æ‹½ */
    }

    .app-container {
      min-height: 100vh;
      height: 100vh; /* å›ºå®šé«˜åº¦ */
      display: flex;
      flex-direction: column;
      background: hsl(var(--background));
      position: relative;
      overflow: hidden; /* é˜²æ­¢æ•´ä½“æ»šåŠ¨ */
    }

    /* ä¸ºmacOSçš„ç‰¹æ®Šå¤„ç† */
    @media screen and (-webkit-min-device-pixel-ratio: 1) {
      .header {
        padding-top: 1.75rem; /* macOSä¸Šé¢å¤–å¢åŠ ä¸€äº›ä¸Šå†…è¾¹è· */
      }
    }

    /* Windowså’ŒLinuxçš„ç‰¹æ®Šå¤„ç† */
    @media screen and (min-width: 1px) {
      .header {
        min-height: 60px; /* ç¡®ä¿æœ€å°é«˜åº¦ */
      }
    }

    /* Shadcn Button Components */
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      white-space: nowrap;
      border-radius: calc(var(--radius) - 2px);
      font-size: 0.875rem;
      font-weight: 500;
      transition: all 0.15s;
      cursor: pointer;
      border: none;
      gap: 0.5rem;
      text-decoration: none;
      outline: none;
      position: relative;
      overflow: hidden;
    }

    .btn:focus-visible {
      outline: 2px solid hsl(var(--ring));
      outline-offset: 2px;
    }

    .btn-primary {
      background: hsl(var(--primary));
      color: hsl(var(--primary-foreground));
      padding: 0.5rem 1rem;
      height: 2.5rem;
    }

    .btn-primary:hover {
      background: hsl(var(--primary) / 0.9);
    }

    .btn-secondary {
      background: hsl(var(--secondary));
      color: hsl(var(--secondary-foreground));
      padding: 0.5rem 1rem;
      height: 2.5rem;
      border: 1px solid hsl(var(--border));
    }

    .btn-secondary:hover {
      background: hsl(var(--secondary) / 0.8);
    }

    .btn-ghost {
      background: transparent;
      color: hsl(var(--foreground));
      padding: 0.5rem 1rem;
      height: 2.5rem;
    }

    .btn-ghost:hover {
      background: hsl(var(--accent));
      color: hsl(var(--accent-foreground));
    }

    .btn-sm {
      height: 2rem;
      padding: 0.25rem 0.75rem;
      font-size: 0.8rem;
    }

    /* Shadcn Card Components */
    .card {
      background: hsl(var(--card));
      border: 1px solid hsl(var(--border));
      border-radius: var(--radius);
      box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
      transition: all 0.15s;
    }

    .card:hover {
      box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    }

    .card-header {
      padding: 1.5rem 1.5rem 0;
    }

    .card-title {
      font-size: 1.125rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
      color: hsl(var(--card-foreground));
    }

    .card-description {
      font-size: 0.875rem;
      color: hsl(var(--muted-foreground));
    }

    .card-content {
      padding: 1.5rem;
    }

    /* Header */
    .header {
      padding: 1.5rem 2rem; /* å¢åŠ ä¸Šä¸‹å†…è¾¹è·ä»1remåˆ°1.5rem */
      border-bottom: 1px solid hsl(var(--border));
      background: hsl(var(--background) / 0.95);
      backdrop-filter: blur(10px);
      display: flex;
      align-items: center;
      justify-content: space-between;
      -webkit-app-region: drag; /* ä½¿headeråŒºåŸŸå¯æ‹–æ‹½ */
      /* user-select: none; åˆ é™¤è¿™è¡Œï¼Œå…è®¸é€‰æ‹©æ–‡æœ¬ */
      position: relative;
      z-index: 100;
    }

    .header-content {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      -webkit-app-region: no-drag; /* è®©headerå†…çš„æŒ‰é’®å¯ç‚¹å‡» */
    }

    .header h1 {
      font-size: 1.5rem;
      font-weight: 600;
      color: hsl(var(--foreground));
      display: flex;
      align-items: center;
      gap: 0.5rem;
      -webkit-app-region: drag; /* æ ‡é¢˜ä»ç„¶å¯æ‹–æ‹½ */
    }

    .theme-toggle {
      width: 2.5rem;
      height: 2.5rem;
      border-radius: 50%;
      background: hsl(var(--secondary));
      border: 1px solid hsl(var(--border));
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.15s;
      -webkit-app-region: no-drag; /* æŒ‰é’®åŒºåŸŸä¸å¯æ‹–æ‹½ */
    }

    .theme-toggle:hover {
      background: hsl(var(--secondary) / 0.8);
    }

    /* æ·±è‰²æ¨¡å¼ä¸‹ä¸»é¢˜å›¾æ ‡é¢œè‰² */
    .dark .theme-icon-light {
      color: white;
    }

    .dark .theme-icon-dark {
      color: white;
    }

    /* Header Actions */
    .header-actions {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      -webkit-app-region: no-drag; /* æŒ‰é’®åŒºåŸŸä¸å¯æ‹–æ‹½ */
    }

    .home-btn {
      width: 2.5rem;
      height: 2.5rem;
      border-radius: 50%;
      background: hsl(var(--secondary));
      border: 1px solid hsl(var(--border));
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.15s;
      color: hsl(var(--foreground));
    }

    .home-btn:hover {
      background: hsl(var(--secondary) / 0.8);
    }

    /* Main Layout */
    .main-content {
      flex: 1;
      display: none;
      flex-direction: column;
      gap: 1.5rem;
      padding: 1.5rem;
      max-width: 100vw;
      height: calc(100vh - 6rem); /* å‡å»headerå’Œpaddingçš„é«˜åº¦ */
      overflow: hidden; /* é˜²æ­¢æ•´ä½“æ»šåŠ¨ */
    }

    /* Home Page */
    .home-page {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 2rem;
      background: hsl(var(--background));
    }

    .home-content {
      max-width: 600px;
      width: 100%;
      text-align: center;
    }

    .home-header {
      margin-bottom: 3rem;
    }

    .home-header h2 {
      font-size: 2rem;
      font-weight: 700;
      margin-bottom: 1rem;
      color: hsl(var(--foreground));
    }

    .home-header p {
      font-size: 1.125rem;
      color: hsl(var(--muted-foreground));
    }

    .sync-status-info {
      margin-bottom: 0.75rem;
      font-size: 0.875rem;
      color: hsl(var(--muted-foreground));
    }

    .sync-status-text {
      cursor: pointer;
      transition: color 0.2s;
    }

    .sync-status-text:hover {
      color: hsl(var(--primary));
    }

    .sync-status-text.has-sync {
      color: hsl(var(--foreground));
    }

    .home-actions {
      display: grid;
      grid-template-columns: repeat(3, 200px);
      gap: 24px;
      justify-content: center;
    }

    .home-action-card {
      background: hsl(var(--card));
      border: 1px solid hsl(var(--border));
      border-radius: var(--radius);
      padding: 1.5rem 1rem;
      cursor: pointer;
      transition: all 0.2s;
      text-align: left;
      box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1);
      width: 200px;
      height: 180px;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
    }

    .home-action-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
      border-color: hsl(var(--primary));
    }

    .home-action-card.disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }

    .home-action-card.disabled:hover {
      transform: none;
      box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1);
      border-color: hsl(var(--border));
    }

    .action-icon {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 3rem;
      height: 3rem;
      background: hsl(var(--primary) / 0.1);
      border-radius: 50%;
      margin-bottom: 1rem;
      color: hsl(var(--primary));
    }

    .action-content h3 {
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
      color: hsl(var(--foreground));
    }

    .action-content p {
      font-size: 0.875rem;
      color: hsl(var(--muted-foreground));
      line-height: 1.4;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      max-width: 100%;
    }

    @media (max-width: 768px) {
      .home-actions {
        grid-template-columns: 1fr;
        gap: 24px;
        justify-items: center;
      }
      
      .home-action-card {
        padding: 1.5rem 1rem;
        width: 200px;
        height: 180px;
      }
      
      .home-header h2 {
        font-size: 1.5rem;
      }
    }

    @media (max-width: 960px) and (min-width: 769px) {
      .home-actions {
        grid-template-columns: repeat(2, 200px);
        gap: 24px;
        justify-content: center;
      }
    }

    .video-section {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
      overflow-y: auto;
      flex: 1; /* å ç”¨å…¨éƒ¨å¯ç”¨ç©ºé—´ */
    }

    .sidebar {
      display: none; /* éšè—ä¾§è¾¹æ ï¼Œå› ä¸ºå­—å…¸é¢æ¿å·²æ”¹ä¸ºæŠ½å±‰å¼ */
    }

    /* Drop Zone */
    .drop-zone {
      border: 2px dashed hsl(var(--border));
      border-radius: var(--radius);
      padding: 3rem 2rem;
      text-align: center;
      transition: all 0.2s;
      cursor: pointer;
      background: hsl(var(--muted) / 0.1);
    }

    .drop-zone:hover,
    .drop-zone.dragover {
      border-color: hsl(var(--primary));
      background: hsl(var(--primary) / 0.05);
    }

    .drop-zone h3 {
      font-size: 1.125rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      color: hsl(var(--foreground));
    }

    .drop-zone p {
      color: hsl(var(--muted-foreground));
      margin-bottom: 1.5rem;
      font-size: 0.875rem;
    }

    /* Video Player */
    .video-container {
      position: relative;
      border-radius: var(--radius);
      overflow: hidden;
      background: #000;
      display: none;
      box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
      width: 100%;
      max-width: 100%;
    }
    
    /* ä¼˜å…ˆä½¿ç”¨ç°ä»£çš„aspect-ratioå±æ€§ */
    @supports (aspect-ratio: 16 / 9) {
      .video-container {
        aspect-ratio: 16 / 9;
      }
    }
    
    /* ä¸ºä¸æ”¯æŒaspect-ratioçš„æµè§ˆå™¨æä¾›å¤‡ç”¨æ–¹æ¡ˆ */
    @supports not (aspect-ratio: 16 / 9) {
      .video-container::before {
        content: '';
        display: block;
        padding-bottom: 56.25%; /* 16:9 = 9/16 = 0.5625 = 56.25% */
      }
      
      .video-container video {
        position: absolute;
        top: 0;
        left: 0;
      }
    }

    .video-container.active {
      display: block;
    }

    video {
      width: 100%;
      height: 100%;
      object-fit: contain; /* ä¿æŒè§†é¢‘æ¯”ä¾‹ï¼Œé€‚åº”å®¹å™¨ */
      display: block;
    }

    /* Subtitle Display */
    .subtitle-display {
      background: hsl(var(--card));
      border: 1px solid hsl(var(--border));
      border-radius: var(--radius);
      padding: 1rem;
      height: 100px;  /* å›ºå®šé«˜åº¦100px */
      font-size: 1.125rem;
      line-height: 1.4;
      text-align: center;
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;  /* éšè—è¶…å‡ºå†…å®¹ */
      margin-bottom: 1.5rem;
      transition: all 0.2s ease;
      box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1);
    }
    
    /* è§†é¢‘å†…å­—å¹•è¦†ç›–å±‚ */
    .video-subtitle-overlay {
      position: absolute;
      bottom: 1px; /* å‘ä¸Šç§»åŠ¨20åƒç´  */
      left: 0;
      right: 0;
      height: 200px; /* ç»™å­—å¹•ç•™å‡ºè¶³å¤Ÿçš„ç©ºé—´ */
      display: flex;
      align-items: flex-end;
      justify-content: center;
      pointer-events: none; /* ä¸é˜»æŒ¡è§†é¢‘æ§ä»¶ */
      z-index: 10;
    }
    
    .video-subtitle-content {
      background: rgba(0, 0, 0, 0.7);
      color: white;
      padding: 0.75rem 1.25rem;
      border-radius: 8px;
      margin: 1rem;
      text-align: center;
      max-width: 90%;
      backdrop-filter: blur(4px);
      pointer-events: auto; /* å…è®¸å­—å¹•äº¤äº’ */
      font-size: 1.5rem; /* è¿›ä¸€æ­¥å¢å¤§å­—ä½“ */
      line-height: 1.5;
    }
    
    /* è§†é¢‘å†…å­—å¹•å•è¯æ ·å¼ */
    .video-subtitle-content .subtitle-word {
      color: white;
      background: transparent;
    }
    
    .video-subtitle-content .subtitle-word:hover {
      background: rgba(255, 255, 255, 0.2);
      color: #4285f4;
    }

    /* è‡ªå®šä¹‰è§†é¢‘æ§ä»¶æ ·å¼ */
    .custom-video-controls {
      background: hsl(var(--card));
      border: 1px solid hsl(var(--border));
      border-radius: var(--radius);
      padding: 1rem;
      margin-top: 0.5rem;
      box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1);
    }

    /* è¿›åº¦æ¡å®¹å™¨ */
    .progress-container {
      margin-bottom: 1rem;
    }

    .progress-bar {
      position: relative;
      height: 6px;
      background: hsl(var(--muted));
      border-radius: 3px;
      cursor: pointer;
      transition: height 0.2s ease;
    }

    .progress-bar:hover {
      height: 8px;
    }

    .progress-filled {
      height: 100%;
      background: hsl(var(--primary));
      border-radius: 3px;
      width: 0%;
      transition: width 0.1s ease;
    }

    .progress-handle {
      position: absolute;
      top: 50%;
      transform: translate(-50%, -50%);
      width: 14px;
      height: 14px;
      background: hsl(var(--primary));
      border: 2px solid white;
      border-radius: 50%;
      cursor: pointer;
      opacity: 0;
      transition: opacity 0.2s ease;
      left: 0%;
    }

    .progress-bar:hover .progress-handle {
      opacity: 1;
    }

    /* æ§åˆ¶æŒ‰é’®è¡Œ */
    .controls-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
    }

    .controls-left,
    .controls-right {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    /* æ§åˆ¶æŒ‰é’® */
    .control-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 36px;
      height: 36px;
      border: none;
      background: hsl(var(--muted));
      color: hsl(var(--foreground));
      border-radius: var(--radius);
      cursor: pointer;
      transition: all 0.2s ease;
      font-size: 16px;
    }

    .control-btn:hover {
      background: hsl(var(--primary));
      color: hsl(var(--primary-foreground));
    }

    .control-btn:active {
      transform: scale(0.95);
    }

    /* æ—¶é—´æ˜¾ç¤º */
    .time-display {
      font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace;
      font-size: 0.875rem;
      color: hsl(var(--muted-foreground));
      min-width: 80px;
    }

    /* éŸ³é‡æ§åˆ¶ */
    .volume-control {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .volume-slider-container {
      width: 80px;
    }

    .volume-slider {
      width: 100%;
      height: 4px;
      background: hsl(var(--muted));
      border-radius: 2px;
      outline: none;
      cursor: pointer;
      -webkit-appearance: none;
    }

    .volume-slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 14px;
      height: 14px;
      background: hsl(var(--primary));
      border-radius: 50%;
      cursor: pointer;
    }

    .volume-slider::-moz-range-thumb {
      width: 14px;
      height: 14px;
      background: hsl(var(--primary));
      border-radius: 50%;
      cursor: pointer;
      border: none;
    }

    /* æ’­æ”¾é€Ÿåº¦æ§åˆ¶ */
    .speed-control {
      position: relative;
    }

    .speed-control .control-btn {
      width: auto;
      padding: 0 0.75rem;
      font-size: 0.875rem;
      font-weight: 500;
    }

    .speed-menu {
      position: absolute;
      bottom: 100%;
      right: 0;
      background: hsl(var(--popover));
      border: 1px solid hsl(var(--border));
      border-radius: var(--radius);
      box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
      padding: 0.5rem 0;
      margin-bottom: 0.5rem;
      min-width: 80px;
      display: none;
      z-index: 50;
    }

    .speed-menu.show {
      display: block;
    }

    .speed-option {
      padding: 0.5rem 1rem;
      cursor: pointer;
      font-size: 0.875rem;
      transition: background-color 0.2s ease;
    }

    .speed-option:hover {
      background: hsl(var(--muted));
    }

    .speed-option.active {
      background: hsl(var(--primary));
      color: hsl(var(--primary-foreground));
    }

    /* å“åº”å¼è®¾è®¡ */
    @media (max-width: 768px) {
      .custom-video-controls {
        padding: 0.75rem;
      }
      
      .controls-row {
        gap: 0.5rem;
      }
      
      .controls-left,
      .controls-right {
        gap: 0.5rem;
      }
      
      .control-btn {
        width: 32px;
        height: 32px;
        font-size: 14px;
      }
      
      .volume-slider-container {
        width: 60px;
      }
      
      .time-display {
        font-size: 0.75rem;
        min-width: 70px;
      }
    }
    
    /* ç®€åŒ–ç©ºçŠ¶æ€æ ·å¼ */
    .subtitle-display .empty-state {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      color: hsl(var(--muted-foreground));
      font-size: 0.875rem;
    }
    
    .subtitle-display .empty-state-icon {
      opacity: 0.6;
      font-size: 1.5rem;
    }
    
    /* å“åº”å¼è®¾è®¡ */
    @media (max-width: 768px) {
      .subtitle-display {
        height: 80px;
        font-size: 1.125rem; /* å¢å¤§ç§»åŠ¨ç«¯å­—ä½“ */
        padding: 0.75rem;
      }
      
      .subtitle-display .empty-state {
        font-size: 0.875rem;
        gap: 0.25rem;
      }
      
      .video-subtitle-content {
         font-size: 1.375rem; /* å¢å¤§ç§»åŠ¨ç«¯è§†é¢‘å­—å¹•å­—ä½“ */
       }
    }
    
    @media (max-width: 480px) {
      .subtitle-display {
        height: 70px;
        font-size: 1rem; /* å°å±å¹•ä¿æŒåˆé€‚å¤§å° */
        padding: 0.5rem;
      }
      
      .video-subtitle-content {
         font-size: 1.25rem; /* å¢å¤§å°å±å¹•è§†é¢‘å­—å¹•å­—ä½“ */
         padding: 0.5rem 1rem;
       }
    }
    
    /* å­—å¹•æ˜¾ç¤ºåŒºåŸŸæ‹–æ‹½åé¦ˆæ ·å¼ */
    .subtitle-display.subtitle-drop-active {
      border-color: hsl(var(--primary));
      background: hsl(var(--primary) / 0.05);
      box-shadow: 0 0 0 2px hsl(var(--primary) / 0.2);
    }
    
    /* å…¨å±€å­—å¹•æ‹–æ”¾æç¤º */
    body.dragover::after {
      content: 'ğŸ“„ æ‹–æ”¾å­—å¹•æ–‡ä»¶åˆ°æ­¤å¤„';
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: hsl(var(--primary) / 0.8);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      font-weight: 500;
      z-index: 9999;
      pointer-events: none;
    }

    .subtitle-word {
      display: inline;
      padding: 0.1rem 0.2rem; /* å‡å°‘å†…è¾¹è·ï¼Œç¼©å°å•è¯é—´è· */
      border-radius: calc(var(--radius) - 3px);
      cursor: pointer;
      transition: all 0.15s ease;
      /* user-select: none; åˆ é™¤è¿™è¡Œï¼Œå…è®¸é€‰æ‹©æ–‡æœ¬ */
      font-size: 1.15em; /* è¿›ä¸€æ­¥å¢å¤§å­—ä½“ */
      line-height: inherit;
      font-weight: 400; /* å‡å°‘å­—é‡ï¼Œä½¿å­—ä½“æ›´ç»† */
    }

    .subtitle-word:hover {
      background: hsl(var(--primary) / 0.2);
      color: hsl(var(--primary));
    }

    /* å·²æ”¶è—å•è¯çš„æ ·å¼ */
    .subtitle-word.favorited-word {
      color: #ef4444 !important; /* çº¢è‰² */
      font-weight: 600;
      background: rgba(239, 68, 68, 0.1);
    }

    .subtitle-word.favorited-word:hover {
      background: rgba(239, 68, 68, 0.2);
      color: #dc2626 !important; /* æ·±çº¢è‰² */
    }

    /* Controls and Lists */
    .controls-row {
      display: flex;
      gap: 0.75rem;
      align-items: center;
      flex-wrap: wrap;
    }



    /* Dictionary Panel - æŠ½å±‰å¼ä¾§è¾¹æ  */
    .dictionary-panel {
      position: fixed;
      top: 0;
      right: -400px; /* é»˜è®¤éšè—åœ¨å±å¹•å³ä¾§ */
      width: 400px;
      height: 100vh;
      background: hsl(var(--card));
      border: 1px solid hsl(var(--border));
      border-radius: 0;
      display: flex;
      flex-direction: column;
      box-shadow: -2px 0 10px rgba(0, 0, 0, 0.1);
      overflow: hidden; /* é˜²æ­¢å†…å®¹æº¢å‡º */
      z-index: 1000;
      transition: right 0.3s ease; /* æ·»åŠ å¹³æ»‘è¿‡æ¸¡æ•ˆæœ */
    }
    
    /* æ˜¾ç¤ºå­—å…¸é¢æ¿æ—¶çš„æ ·å¼ */
    .dictionary-panel.show {
      right: 0;
    }
    
    /* å­—å…¸é¢æ¿é®ç½©å±‚ */
    .dictionary-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.3);
      z-index: 999;
      display: none;
    }
    
    .dictionary-overlay.show {
      display: block;
    }

    .dictionary-header {
      padding: 1rem 1.5rem;
      border-bottom: 1px solid hsl(var(--border));
      background: hsl(var(--muted) / 0.1);
      border-radius: var(--radius) var(--radius) 0 0;
      flex-shrink: 0; /* ä¸è¢«å‹ç¼© */
      flex-direction: column; /* å‚ç›´å¸ƒå±€ */
      align-items: stretch; /* æ‹‰ä¼¸å¯¹é½ */
    }

    /* Trackå­—å¹•å¼€å…³æ ·å¼ */
    .subtitle-toggle-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-top: 0.75rem;
      padding: 0.5rem 0.75rem;
      background: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(10px);
      border-radius: calc(var(--radius) - 2px);
      border: 1px solid hsl(var(--border));
    }

    .dark .subtitle-toggle-row {
      background: rgba(0, 0, 0, 0.3);
    }

    .toggle-label {
      font-size: 0.875rem;
      font-weight: 500;
      color: hsl(var(--foreground));
    }

    .toggle-switch {
      position: relative;
      width: 44px;
      height: 24px;
      background: hsl(var(--muted));
      border: 1px solid hsl(var(--border));
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.2s ease;
      padding: 0;
      outline: none;
    }

    .toggle-switch:hover {
      background: hsl(var(--muted) / 0.8);
    }

    .toggle-switch[data-enabled="true"] {
      background: hsl(var(--primary));
      border-color: hsl(var(--primary));
    }

    .toggle-slider {
      position: absolute;
      top: 1px;
      left: 1px;
      width: 20px;
      height: 20px;
      background: white;
      border-radius: 50%;
      transition: transform 0.2s ease;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
    }

    .toggle-switch[data-enabled="true"] .toggle-slider {
      transform: translateX(20px);
    }

    .dictionary-content {
      flex: 1;
      padding: 0;
      overflow-y: auto !important; /* å¼ºåˆ¶æ˜¾ç¤ºæ»šåŠ¨æ¡ */
      height: 100%; /* å……åˆ†åˆ©ç”¨å¯ç”¨é«˜åº¦ */
    }

    /* Word Results */
    .word-result {
      animation: fadeIn 0.3s ease-in-out;
    }

    .dictionary-section {
      padding: 1.5rem;
      border-bottom: 1px solid hsl(var(--border));
    }

    .dictionary-section:last-child {
      border-bottom: none;
    }

    .dictionary-section-title {
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: 1rem;
      color: hsl(var(--primary));
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .word-title {
      font-size: 2rem;
      font-weight: 700;
      color: hsl(var(--foreground));
      margin-bottom: 0.75rem;
      letter-spacing: -0.02em;
    }

    .word-phonetic {
      color: hsl(var(--muted-foreground));
      font-style: italic;
      margin-bottom: 1.5rem;
      font-size: 1rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .phonetic-label {
      background: hsl(var(--secondary));
      color: hsl(var(--secondary-foreground));
      padding: 0.25rem 0.5rem;
      border-radius: calc(var(--radius) - 2px);
      font-size: 0.75rem;
      font-weight: 500;
      font-style: normal;
    }

    /* éŸ³æ ‡ç‚¹å‡»å‘éŸ³æ ·å¼ */
    #wordPhonetic {
      user-select: none;
      position: relative;
      transition: all 0.2s ease;
    }

    #wordPhonetic:hover {
      color: hsl(var(--primary)) !important;
      transform: scale(1.05);
    }

    #wordPhonetic:active {
      transform: scale(0.95);
    }

    /* éŸ³æ ‡å‘éŸ³å›¾æ ‡ */
    #wordPhonetic::after {
      content: "ğŸ”Š";
      position: absolute;
      top: -2px;
      right: -20px;
      font-size: 0.8rem;
      opacity: 0;
      transition: opacity 0.2s ease;
    }

    #wordPhonetic:hover::after {
      opacity: 0.7;
    }

    .definition-group {
      margin-bottom: 1rem;
    }

    .part-of-speech {
      display: inline-flex;
      align-items: center;
      background: hsl(var(--primary) / 0.1);
      color: hsl(var(--primary));
      padding: 0.25rem 0.75rem;
      border-radius: 9999px;
      font-size: 0.875rem;
      font-weight: 600;
      margin-right: 0.75rem;
      margin-bottom: 0.5rem;
    }

    .definition-text {
      color: hsl(var(--foreground));
      line-height: 1.6;
      margin-bottom: 0.5rem;
      font-size: 0.95rem;
    }

    .ai-section {
      background: hsl(var(--muted) / 0.1);
    }

    .context-explanation {
      margin-bottom: 1rem;
    }

    .context-label {
      background: hsl(var(--accent));
      color: hsl(var(--accent-foreground));
      padding: 0.25rem 0.5rem;
      border-radius: calc(var(--radius) - 2px);
      font-size: 0.75rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
      display: inline-block;
    }

    .context-text {
      color: hsl(var(--foreground));
      line-height: 1.6;
      font-size: 0.95rem;
      font-style: italic;
    }

    .translation-result {
      margin-top: 1rem;
    }

    .translation-label {
      background: hsl(var(--secondary));
      color: hsl(var(--secondary-foreground));
      padding: 0.25rem 0.5rem;
      border-radius: calc(var(--radius) - 2px);
      font-size: 0.75rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
      display: inline-block;
    }

    .translation-text {
      color: hsl(var(--foreground));
      line-height: 1.6;
      font-size: 0.95rem;
    }

    /* Utility Classes */
    .loading-spinner {
      width: 24px;
      height: 24px;
      border: 2px solid hsl(var(--border));
      border-top: 2px solid hsl(var(--primary));
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin: 0 auto;
    }

    .empty-state {
      text-align: center;
      color: hsl(var(--muted-foreground));
      padding: 2rem;
    }

    .empty-state-icon {
      width: 48px;
      height: 48px;
      margin: 0 auto 1rem;
      opacity: 0.5;
      color: hsl(var(--muted-foreground));
    }

    .badge {
      display: inline-flex;
      align-items: center;
      border-radius: 9999px;
      padding: 0.25rem 0.75rem;
      font-size: 0.75rem;
      font-weight: 500;
      background: hsl(var(--secondary));
      color: hsl(var(--secondary-foreground));
      border: 1px solid hsl(var(--border));
    }

    .separator {
      height: 1px;
      background: hsl(var(--border));
      margin: 1rem 0;
    }

    .ai-response {
      white-space: pre-wrap;
      line-height: 1.6;
      animation: fadeIn 0.3s ease-in-out;
      color: hsl(var(--foreground));
    }

    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* Form Elements */
    input[type="file"] {
      display: none;
    }

    /* Responsive Design */
    @media (max-width: 1024px) {
      .main-content {
        gap: 1rem;
      }
      
      .dictionary-panel {
        height: calc(100vh - 16rem); /* è¾ƒå°å±å¹•ä¸Šè·Ÿéšçª—å£é«˜åº¦ */
      }
      
      /* ä¸­ç­‰å±å¹•ä¸Šè§†é¢‘å®¹å™¨ä¼˜åŒ– */
      .video-container {
        max-width: 90vw; /* å¢åŠ è§†é¢‘æœ€å¤§å®½åº¦ */
        margin: 0 auto;
      }
    }

    @media (max-width: 768px) {
      .header, .main-content {
        padding: 1rem;
      }
      
      .card-content {
        padding: 1rem;
      }
      
      .header {
        flex-direction: column;
        gap: 1rem;
        text-align: center;
      }
      
      .main-content {
        height: calc(100vh - 8rem); /* æ‰‹æœºä¸Šè°ƒæ•´é«˜åº¦ */
      }
      
      .dictionary-panel {
        height: calc(100vh - 12rem); /* æ‰‹æœºä¸Šä¹Ÿè·Ÿéšçª—å£é«˜åº¦ */
      }
      
      /* æ‰‹æœºå±å¹•ä¸Šè§†é¢‘å®¹å™¨ä¼˜åŒ– */
      .video-container {
        max-width: 100%; /* æ‰‹æœºä¸Šå……åˆ†åˆ©ç”¨å±å¹•å®½åº¦ */
        margin: 0 auto;
      }
    }
    
    @media (max-width: 480px) {
      /* å°æ‰‹æœºå±å¹•ä¸Šè¿›ä¸€æ­¥é™åˆ¶è§†é¢‘å°ºå¯¸ */
      .video-container {
        max-width: 100%;
      }
    }

    /* Dark mode transitions */
    * {
      transition: background-color 0.15s, border-color 0.15s, color 0.15s;
    }

    /* æ»šåŠ¨æ¡æ ·å¼ä¼˜åŒ– */
    .dictionary-content::-webkit-scrollbar,
    .sidebar::-webkit-scrollbar,
    .video-section::-webkit-scrollbar {
      width: 6px;
    }

    .dictionary-content::-webkit-scrollbar-track,
    .sidebar::-webkit-scrollbar-track,
    .video-section::-webkit-scrollbar-track {
      background: hsl(var(--muted) / 0.1);
      border-radius: 3px;
    }

    .dictionary-content::-webkit-scrollbar-thumb,
    .sidebar::-webkit-scrollbar-thumb,
    .video-section::-webkit-scrollbar-thumb {
      background: hsl(var(--border));
      border-radius: 3px;
    }

    .dictionary-content::-webkit-scrollbar-thumb:hover,
    .sidebar::-webkit-scrollbar-thumb:hover,
    .video-section::-webkit-scrollbar-thumb:hover {
      background: hsl(var(--muted-foreground));
    }

    /* æ”¶è—æŒ‰é’®æ ·å¼ */
    #favoriteBtn {
      transition: color 0.2s ease;
    }

    #favoriteBtn:hover {
      color: hsl(var(--primary)) !important;
    }

    #favoriteBtn.favorited {
      color: #ef4444 !important; /* çº¢è‰² */
    }

    #favoriteBtn:not(.favorited) {
      color: hsl(var(--muted-foreground)) !important; /* ç°è‰² */
    }

    /* å•è¯æœ¬é¡µé¢æ ·å¼ */
    .word-book-page {
      flex: 1;
      display: flex;
      flex-direction: column;
      background: hsl(var(--background));
      overflow: hidden;
    }

    .word-book-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem;
      width: 100%;
      min-height: 0; /* å…è®¸flexå­å…ƒç´ æ”¶ç¼© */
      height: 100vh; /* ç¡®ä¿å æ»¡è§†çª—é«˜åº¦ */
    }

    .word-book-header {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 2rem;
      padding-bottom: 1rem;
      border-bottom: 1px solid hsl(var(--border));
    }

    .back-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 2.5rem;
      height: 2.5rem;
      border-radius: 50%;
      background: hsl(var(--secondary));
      border: 1px solid hsl(var(--border));
      cursor: pointer;
      transition: all 0.15s;
      color: hsl(var(--foreground));
    }

    .back-btn:hover {
      background: hsl(var(--secondary) / 0.8);
      transform: translateX(-2px);
    }

    .word-book-header h2 {
      font-size: 1.5rem;
      font-weight: 600;
      color: hsl(var(--foreground));
      flex: 1;
    }

    .word-book-stats {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .export-dropdown {
      position: relative;
      display: inline-block;
    }

    .export-btn {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 1rem;
      border-radius: calc(var(--radius) - 2px);
      background: hsl(var(--primary));
      color: hsl(var(--primary-foreground));
      border: none;
      font-size: 0.875rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.15s;
    }

    .export-btn:hover {
      background: hsl(var(--primary) / 0.9);
      transform: translateY(-1px);
    }

    .export-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
    }

    .dropdown-icon {
      width: 14px;
      height: 14px;
      transition: transform 0.15s;
    }

    .export-dropdown.open .dropdown-icon {
      transform: rotate(180deg);
    }

    .export-dropdown-menu {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: hsl(var(--background));
      border: 1px solid hsl(var(--border));
      border-radius: calc(var(--radius) - 2px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transform: translateY(-10px);
      transition: all 0.15s;
      margin-top: 4px;
      min-width: 180px;
    }

    .export-dropdown.open .export-dropdown-menu {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    .export-option {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      width: 100%;
      padding: 0.75rem 1rem;
      border: none;
      background: transparent;
      color: hsl(var(--foreground));
      font-size: 0.875rem;
      cursor: pointer;
      transition: background-color 0.15s;
      text-align: left;
    }

    .export-option:hover {
      background: hsl(var(--accent));
    }

    .export-option:first-child {
      border-radius: calc(var(--radius) - 2px) calc(var(--radius) - 2px) 0 0;
    }

    .export-option:last-child {
      border-radius: 0 0 calc(var(--radius) - 2px) calc(var(--radius) - 2px);
    }

    .export-separator {
      height: 1px;
      background: hsl(var(--border));
      margin: 0.5rem 0;
    }

    /* é€šç”¨å¯¹è¯æ¡†æ ·å¼ */
    .dialog-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 2000;
    }

    .dialog {
      background: hsl(var(--background));
      border: 1px solid hsl(var(--border));
      border-radius: calc(var(--radius));
      width: 90%;
      max-width: 600px;
      max-height: 80vh;
      overflow: hidden;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
    }

    .dialog-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1.5rem;
      border-bottom: 1px solid hsl(var(--border));
    }

    .dialog-header h3 {
      margin: 0;
      font-size: 1.25rem;
      font-weight: 600;
      color: hsl(var(--foreground));
    }

    .dialog-content {
      padding: 1.5rem;
      max-height: 60vh;
      overflow-y: auto;
    }

    /* äº‘åŒæ­¥å¯¹è¯æ¡†ç‰¹æœ‰æ ·å¼ */
    .sync-config-section {
      margin-bottom: 1.5rem;
    }

    .sync-config-section h4 {
      margin: 0 0 0.5rem 0;
      font-size: 1.1rem;
      font-weight: 600;
      color: hsl(var(--foreground));
    }

    .text-muted {
      color: hsl(var(--muted-foreground));
      font-size: 0.9rem;
      margin-bottom: 1rem;
    }

    .form-group {
      margin-bottom: 1rem;
    }

    .form-group label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 500;
      color: hsl(var(--foreground));
    }

    .input-group {
      display: flex;
      gap: 0.5rem;
    }

    .input-group input {
      flex: 1;
      padding: 0.5rem 0.75rem;
      border: 1px solid hsl(var(--border));
      border-radius: calc(var(--radius) - 2px);
      background: hsl(var(--background));
      color: hsl(var(--foreground));
      font-size: 0.9rem;
    }

    .input-group input:focus {
      outline: none;
      border-color: hsl(var(--ring));
      box-shadow: 0 0 0 2px hsl(var(--ring) / 0.2);
    }

    .sync-status {
      background: hsl(var(--muted) / 0.5);
      border: 1px solid hsl(var(--border));
      border-radius: calc(var(--radius));
      padding: 1rem;
      margin: 1rem 0;
    }

    .status-item {
      display: flex;
      justify-content: space-between;
      margin-bottom: 0.5rem;
    }

    .status-item:last-child {
      margin-bottom: 0;
    }

    .status-label {
      font-weight: 500;
      color: hsl(var(--foreground));
    }

    .status-value {
      color: hsl(var(--muted-foreground));
    }

    .sync-actions {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
    }

    .sync-actions .btn {
      flex: 1;
      min-width: 120px;
    }

    /* æ¢å¤å¯¹è¯æ¡†æ ·å¼ */
    .restore-dialog-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 2000;
    }

    .restore-dialog {
      background: hsl(var(--background));
      border: 1px solid hsl(var(--border));
      border-radius: calc(var(--radius));
      width: 90%;
      max-width: 500px;
      max-height: 80vh;
      overflow: hidden;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
    }

    .restore-dialog-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1.5rem;
      border-bottom: 1px solid hsl(var(--border));
    }

    .restore-dialog-header h3 {
      margin: 0;
      font-size: 1.125rem;
      font-weight: 600;
      color: hsl(var(--foreground));
    }

    .close-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 2rem;
      height: 2rem;
      border-radius: 50%;
      background: transparent;
      border: none;
      cursor: pointer;
      color: hsl(var(--muted-foreground));
      transition: all 0.15s;
    }

    .close-btn:hover {
      background: hsl(var(--secondary));
      color: hsl(var(--foreground));
    }

    .restore-dialog-content {
      padding: 1.5rem;
      max-height: 60vh;
      overflow-y: auto;
    }

    .backup-info, .current-info {
      margin-bottom: 1.5rem;
    }

    .backup-info h4, .current-info h4, .restore-options h4 {
      margin: 0 0 0.75rem 0;
      font-size: 1rem;
      font-weight: 600;
      color: hsl(var(--foreground));
    }

    .backup-info p, .current-info p {
      margin: 0.25rem 0;
      font-size: 0.875rem;
      color: hsl(var(--muted-foreground));
    }

    .restore-options {
      margin-top: 1.5rem;
    }

    .restore-option {
      display: flex;
      align-items: flex-start;
      gap: 0.75rem;
      padding: 0.75rem;
      border: 1px solid hsl(var(--border));
      border-radius: calc(var(--radius) - 2px);
      margin-bottom: 0.75rem;
      cursor: pointer;
      transition: all 0.15s;
    }

    .restore-option:hover {
      background: hsl(var(--secondary) / 0.5);
      border-color: hsl(var(--primary));
    }

    .restore-option input[type="radio"] {
      margin: 0;
      margin-top: 0.125rem;
    }

    .restore-option span {
      font-weight: 500;
      color: hsl(var(--foreground));
      margin-bottom: 0.25rem;
    }

    .restore-option small {
      display: block;
      font-size: 0.75rem;
      color: hsl(var(--muted-foreground));
      line-height: 1.3;
    }

    .restore-dialog-footer {
      display: flex;
      gap: 0.75rem;
      justify-content: flex-end;
      padding: 1.5rem;
      border-top: 1px solid hsl(var(--border));
      background: hsl(var(--secondary) / 0.3);
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      padding: 0.5rem 1rem;
      border-radius: calc(var(--radius) - 2px);
      font-size: 0.875rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.15s;
      border: 1px solid transparent;
    }

    .btn-primary {
      background: hsl(var(--primary));
      color: hsl(var(--primary-foreground));
    }

    .btn-primary:hover {
      background: hsl(var(--primary) / 0.9);
    }

    .btn-secondary {
      background: hsl(var(--secondary));
      color: hsl(var(--secondary-foreground));
      border-color: hsl(var(--border));
    }

    .btn-secondary:hover {
      background: hsl(var(--secondary) / 0.8);
    }

    .export-option i {
      width: 16px;
      height: 16px;
    }

    .word-count {
      background: hsl(var(--primary) / 0.1);
      color: hsl(var(--primary));
      padding: 0.25rem 0.75rem;
      border-radius: 9999px;
      font-size: 0.875rem;
      font-weight: 500;
    }

    .word-book-body {
      flex: 1;
      overflow-y: auto;
      min-height: 0; /* å…è®¸flexæ”¶ç¼© */
      padding: 0 0.5rem; /* æ·»åŠ å·¦å³å†…è¾¹è·ï¼Œé¿å…æ»šåŠ¨æ¡è´´è¾¹ */
    }

    .word-book-empty {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100%;
      text-align: center;
      color: hsl(var(--muted-foreground));
    }

    .word-book-empty .empty-icon {
      width: 4rem;
      height: 4rem;
      margin-bottom: 1rem;
      opacity: 0.5;
    }

    .word-book-empty h3 {
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
      color: hsl(var(--foreground));
    }

    .word-book-empty p {
      font-size: 0.875rem;
      line-height: 1.4;
    }

    .word-list {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 1rem;
      padding: 1rem 0;
      min-height: 0; /* å…è®¸ç½‘æ ¼æ”¶ç¼© */
    }

    .word-item {
      background: hsl(var(--card));
      border: 1px solid hsl(var(--border));
      border-radius: var(--radius);
      padding: 1rem;
      transition: all 0.2s;
      cursor: pointer;
    }

    .word-item:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
      border-color: hsl(var(--primary));
    }

    .word-item-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 0.75rem;
    }

    .word-text {
      font-size: 1.125rem;
      font-weight: 600;
      color: hsl(var(--foreground));
    }

    .remove-word-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 1.5rem;
      height: 1.5rem;
      border-radius: 4px;
      background: transparent;
      color: hsl(var(--muted-foreground));
      border: none;
      cursor: pointer;
      transition: all 0.15s;
      opacity: 0;
    }

    .word-item:hover .remove-word-btn {
      opacity: 1;
    }

    .remove-word-btn:hover {
      background: hsl(var(--muted) / 0.5);
      color: hsl(var(--foreground));
      transform: scale(1.1);
    }

    .word-phonetic-display {
      font-size: 0.875rem;
      color: hsl(var(--muted-foreground));
      font-style: italic;
      margin-bottom: 0.5rem;
    }

    .word-added-time {
      font-size: 0.75rem;
      color: hsl(var(--muted-foreground));
    }

    .word-translation {
      font-size: 0.875rem;
      color: hsl(var(--foreground));
      margin-bottom: 0.5rem;
      line-height: 1.4;
    }

    .word-ai-explanation {
      font-size: 0.8rem;
      color: hsl(var(--muted-foreground));
      background: hsl(var(--muted) / 0.1);
      padding: 0.5rem;
      border-radius: 0.25rem;
      margin-bottom: 0.5rem;
      line-height: 1.4;
    }

    .word-example-sentence {
      font-size: 0.8rem;
      color: hsl(var(--muted-foreground));
      font-style: italic;
      margin-bottom: 0.25rem;
      line-height: 1.3;
    }

    .word-sentence-translation {
      font-size: 0.8rem;
      color: hsl(var(--muted-foreground));
      margin-bottom: 0.5rem;
      line-height: 1.3;
    }

    .word-detail-label {
      font-size: 0.7rem;
      color: hsl(var(--primary));
      font-weight: 500;
      margin-bottom: 0.25rem;
      text-transform: uppercase;
      letter-spacing: 0.025em;
      opacity: 0.8;
    }

    .word-screenshot-container {
      margin-bottom: 0.5rem;
      border-radius: 0.375rem;
      overflow: hidden;
      border: 1px solid hsl(var(--border));
    }

    .word-screenshot {
      width: 100%;
      height: auto;
      max-height: 120px;
      object-fit: cover;
      display: block;
      cursor: pointer;
      transition: transform 0.2s ease;
    }

    .word-screenshot:hover {
      transform: scale(1.02);
    }

    @media (max-width: 768px) {
      .word-book-content {
        padding: 1rem;
      }
      
      .word-list {
        grid-template-columns: 1fr;
      }
      
      .word-book-header {
        margin-bottom: 1rem;
      }
      
      .word-book-header h2 {
        font-size: 1.25rem;
      }
    }
  </style>
</head>
<body>
  <div class="app-container">
    <!-- å¤´éƒ¨ -->
    <header class="header">
      <div class="header-content">
        <h1>
          <img src="assets/icon.png" width="24" height="24" alt="TalkiePlay" style="margin-right: 8px;">
          TalkiePlay
        </h1>
      </div>
      <div class="header-actions">
        <button class="home-btn" id="homeBtn" title="è¿”å›ä¸»é¡µ">
          <i data-lucide="home"></i>
        </button>
        <button class="theme-toggle" id="themeToggle" title="åˆ‡æ¢ä¸»é¢˜">
          <i data-lucide="sun" class="theme-icon-light"></i>
          <i data-lucide="moon" class="theme-icon-dark" style="display: none;"></i>
        </button>
      </div>
    </header>

    <!-- ä¸»é¡µç•Œé¢ -->
    <div class="home-page" id="homePage" style="display: flex;">
      <div class="home-content">
        <div class="home-header">
          <div class="sync-status-info" id="homeSyncStatus">
            <span class="sync-status-text">æœªè®¾ç½®åŒæ­¥</span>
          </div>
          <h2>æ¬¢è¿ä½¿ç”¨ TalkiePlay</h2>
          <p>è¯·é€‰æ‹©ä¸€ä¸ªæ“ä½œï¼š</p>
        </div>
        <div class="home-actions">
          <div class="home-action-card" id="continueLastVideo">
            <div class="action-icon">
              <i data-lucide="play"></i>
            </div>
            <div class="action-content">
              <h3>ç»§ç»­ä¸Šæ¬¡æ’­æ”¾</h3>
              <p id="lastVideoInfo">æ²¡æœ‰æ‰¾åˆ°ä¸Šæ¬¡æ’­æ”¾çš„è§†é¢‘</p>
            </div>
          </div>
          <div class="home-action-card" id="openNewVideo">
            <div class="action-icon">
              <i data-lucide="folder-open"></i>
            </div>
            <div class="action-content">
              <h3>æ‰“å¼€æ–°çš„è§†é¢‘</h3>
              <p>é€‰æ‹©æˆ–æ‹–æ‹½ä¸€ä¸ªè§†é¢‘æ–‡ä»¶å¼€å§‹å­¦ä¹ </p>
            </div>
          </div>
          <div class="home-action-card" id="wordBook">
            <div class="action-icon">
              <i data-lucide="book-heart"></i>
            </div>
            <div class="action-content">
              <h3>å•è¯æœ¬</h3>
              <p id="wordBookInfo">æŸ¥çœ‹æˆ‘æ”¶è—çš„å•è¯</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- å•è¯æœ¬é¡µé¢ -->
    <div class="word-book-page" id="wordBookPage" style="display: none;">
      <div class="word-book-content">
        <div class="word-book-header">
          <button class="back-btn" id="wordBookBackBtn" title="è¿”å›ä¸»é¡µ">
            <i data-lucide="arrow-left"></i>
          </button>
          <h2>æˆ‘çš„å•è¯æœ¬</h2>
          <div class="word-book-stats">
            <div class="export-dropdown">
              <button class="export-btn" id="exportWordsBtn" title="å•è¯æœ¬æ“ä½œ">
                <i data-lucide="settings"></i>
                æ“ä½œ
                <i data-lucide="chevron-down" class="dropdown-icon"></i>
              </button>
              <div class="export-dropdown-menu" id="exportDropdownMenu">
                <button class="export-option" id="exportTxtBtn">
                  <i data-lucide="file-text"></i>
                  å¯¼å‡ºä¸ºTXT
                </button>
                <button class="export-option" id="exportAnkiBtn">
                  <i data-lucide="brain"></i>
                  å¯¼å‡ºä¸ºAnkiè®°å¿†å¡
                </button>
                <div class="export-separator"></div>
                <button class="export-option" id="backupWordsBtn">
                  <i data-lucide="archive"></i>
                  å¤‡ä»½å•è¯æœ¬
                </button>
                <button class="export-option" id="restoreWordsBtn">
                  <i data-lucide="upload"></i>
                  æ¢å¤å•è¯æœ¬
                </button>
                <div class="export-separator"></div>
                <button class="export-option" id="cloudSyncConfigBtn">
                  <i data-lucide="cloud"></i>
                  äº‘åŒæ­¥è®¾ç½®
                </button>
                <button class="export-option" id="apiConfigBtn">
                  <i data-lucide="key"></i>
                  APIé…ç½®
                </button>
              </div>
            </div>
            <span class="word-count" id="wordBookCount">0 ä¸ªå•è¯</span>
          </div>
        </div>
        
        <div class="word-book-body">
          <!-- ç©ºçŠ¶æ€ -->
          <div class="word-book-empty" id="wordBookEmpty">
            <div class="empty-icon">
              <i data-lucide="book-open"></i>
            </div>
            <h3>å•è¯æœ¬ä¸ºç©º</h3>
            <p>å¼€å§‹å­¦ä¹ è§†é¢‘ï¼Œç‚¹å‡»å­—å¹•ä¸­çš„å•è¯å¹¶æ”¶è—å§ï¼</p>
          </div>
          
          <!-- å•è¯åˆ—è¡¨ -->
          <div class="word-list" id="wordList" style="display: none;">
            <!-- å•è¯é¡¹å°†åœ¨è¿™é‡ŒåŠ¨æ€æ·»åŠ  -->
          </div>
        </div>
      </div>
    </div>

    <!-- å­—å…¸é¢æ¿é®ç½©å±‚ - ç‚¹å‡»æ—¶å…³é—­é¢æ¿ -->
    <div class="dictionary-overlay" id="dictionaryOverlay"></div>
    
    <!-- ä¸»è¦å†…å®¹ -->
    <main class="main-content">
      <!-- è§†é¢‘åŒºåŸŸ -->
      <div class="video-section">
        <!-- è§†é¢‘ä¸Šä¼ åŒºåŸŸ -->
        <div class="card" id="uploadCard">
          <div class="card-content">
            <div class="drop-zone" id="videoDropZone">
              <div class="drop-zone-content">
                <h3>
                  <i data-lucide="upload"></i>
                  æ‹–æ‹½è§†é¢‘æ–‡ä»¶åˆ°è¿™é‡Œ
                </h3>
                <p>æ”¯æŒ MP4ã€AVIã€MOVã€MKV ç­‰æ ¼å¼</p>
                <label for="videoFileInput" class="btn btn-primary">
                  <i data-lucide="file-plus"></i>
                  é€‰æ‹©è§†é¢‘æ–‡ä»¶
                </label>
                <input type="file" id="videoFileInput" accept="video/*">
              </div>
            </div>
          </div>
        </div>

        <!-- è§†é¢‘æ’­æ”¾å™¨ -->
        <div class="video-container" id="videoContainer">
          <video id="videoPlayer"></video>
          <!-- è§†é¢‘å†…å­—å¹•æ˜¾ç¤ºåŒºåŸŸ -->
          <div class="video-subtitle-overlay" id="videoSubtitleOverlay">
            <div class="video-subtitle-content" id="videoSubtitleContent"></div>
          </div>
        </div>

        <!-- è‡ªå®šä¹‰è§†é¢‘æ§ä»¶ -->
        <div class="custom-video-controls" id="customVideoControls" style="display: none;">
          <!-- è¿›åº¦æ¡ -->
          <div class="progress-container">
            <div class="progress-bar" id="progressBar">
              <div class="progress-filled" id="progressFilled"></div>
              <div class="progress-handle" id="progressHandle"></div>
            </div>
          </div>
          
          <!-- æ§åˆ¶æŒ‰é’®åŒºåŸŸ -->
          <div class="controls-row">
            <!-- å·¦ä¾§æ§åˆ¶ -->
            <div class="controls-left">
              <button class="control-btn" id="playPauseBtn" title="æ’­æ”¾/æš‚åœ">
                <i data-lucide="play" id="playIcon"></i>
                <i data-lucide="pause" id="pauseIcon" style="display: none;"></i>
              </button>
              <div class="time-display">
                <span id="currentTime">00:00</span>
                <span>/</span>
                <span id="totalTime">00:00</span>
              </div>
            </div>
            
            <!-- å³ä¾§æ§åˆ¶ -->
            <div class="controls-right">
              <!-- éŸ³é‡æ§åˆ¶ -->
              <div class="volume-control">
                <button class="control-btn" id="muteBtn" title="é™éŸ³">
                  <i data-lucide="volume-2" id="volumeIcon"></i>
                  <i data-lucide="volume-x" id="muteIcon" style="display: none;"></i>
                </button>
                <div class="volume-slider-container">
                  <input type="range" class="volume-slider" id="volumeSlider" min="0" max="100" value="100">
                </div>
              </div>
              
              <!-- æ’­æ”¾é€Ÿåº¦ -->
              <div class="speed-control">
                <button class="control-btn" id="speedBtn" title="æ’­æ”¾é€Ÿåº¦">
                  <span id="speedText">1x</span>
                </button>
                <div class="speed-menu" id="speedMenu">
                  <div class="speed-option" data-speed="0.5">0.5x</div>
                  <div class="speed-option" data-speed="0.75">0.75x</div>
                  <div class="speed-option active" data-speed="1">1x</div>
                  <div class="speed-option" data-speed="1.25">1.25x</div>
                  <div class="speed-option" data-speed="1.5">1.5x</div>
                  <div class="speed-option" data-speed="2">2x</div>
                </div>
              </div>
              
              <!-- å…¨å±æŒ‰é’® -->
              <button class="control-btn" id="fullscreenBtn" title="å…¨å±">
                <i data-lucide="maximize" id="fullscreenIcon"></i>
                <i data-lucide="minimize" id="exitFullscreenIcon" style="display: none;"></i>
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- ä¾§è¾¹æ  -->
      <div class="sidebar">
        <!-- ä¾§è¾¹æ å†…å®¹å·²ç§»è‡³æŠ½å±‰é¢æ¿ -->
      </div>
    </main>

    <!-- ç‹¬ç«‹çš„å­—å…¸æŠ½å±‰é¢æ¿ -->
    <div class="dictionary-panel" id="dictionaryPanel">
          <div class="dictionary-header">
            <div style="display: flex; align-items: center; justify-content: space-between; width: 100%;">
              <h3 style="font-size: 1rem; font-weight: 600; margin: 0;">å•è¯é‡Šä¹‰</h3>
              <button class="btn btn-ghost" id="closeDictionaryBtn" style="padding: 0.25rem;">
                <i data-lucide="x"></i>
              </button>
            </div>
            
            <!-- Trackå­—å¹•å¼€å…³ -->
            <div class="subtitle-toggle-row" style="display: none;">
              <span class="toggle-label">æ˜¾ç¤ºTrackå­—å¹•</span>
              <button class="toggle-switch" id="subtitleToggleSwitch" data-enabled="false" title="æ˜¾ç¤º/éšè—Trackå­—å¹•">
                <div class="toggle-slider"></div>
              </button>
            </div>

          </div>
          <div class="dictionary-content" id="dictionaryContent">
            <div class="empty-state" id="dictionaryEmpty">
              <div class="empty-state-icon">
                <i data-lucide="book-open"></i>
              </div>
              <p>ç‚¹å‡»å­—å¹•ä¸­çš„å•è¯æŸ¥çœ‹é‡Šä¹‰</p>
            </div>
            
            <div id="dictionaryLoading" style="display: none; text-align: center; padding: 2rem;">
              <div class="loading-spinner"></div>
              <p style="margin-top: 1rem; color: hsl(var(--muted-foreground));">æŸ¥è¯¢ä¸­...</p>
            </div>
            
            <div id="dictionaryResult" style="display: none;">
              <!-- ç¿»è¯‘æœåŠ¡éƒ¨åˆ† -->
              <div class="dictionary-section">
                <div class="dictionary-section-title">
                    <i data-lucide="globe"></i>
                    <span id="translationServiceName">è°·æ­Œç¿»è¯‘</span>
                    <div style="margin-left: auto; display: flex; gap: 0.5rem;">
                      <button id="translationServiceToggle" class="btn btn-sm" style="height: 1.5rem; padding: 0.25rem 0.5rem; font-size: 0.7rem;" title="åˆ‡æ¢ç¿»è¯‘æœåŠ¡">
                        <i data-lucide="repeat" style="width: 12px; height: 12px;"></i>
                      </button>
                      <button id="favoriteBtn" class="btn btn-sm" style="height: 1.5rem; padding: 0.25rem 0.5rem; font-size: 0.7rem; color: hsl(var(--muted-foreground));" title="æ”¶è—å•è¯">
                        <i data-lucide="heart" style="width: 12px; height: 12px;" id="favoriteIcon"></i>
                      </button>
                    </div>
                  </div>
                <div class="word-title" id="wordTitle">name</div>
                <div class="word-phonetic">
                  <span class="phonetic-label">ç¾å¼å‘éŸ³</span>
                  <span id="wordPhonetic">/neÉªm/</span>
                </div>
                <div id="wordDefinitions">
                  <div class="definition-group">
                    <span class="part-of-speech">n.</span>
                    <div class="definition-text">åç§°ï¼›åå­—ï¼›åå£°ï¼›åèª‰</div>
                  </div>
                  <div class="definition-group">
                    <span class="part-of-speech">v.</span>
                    <div class="definition-text">å‘½åï¼›ä»»å‘½ï¼›ç»™â€¦å–åï¼›è¯´å‡ºâ€¦çš„åç§°</div>
                  </div>
                </div>
              </div>
              
              <!-- AIé‡Šä¹‰éƒ¨åˆ† -->
              <div class="dictionary-section ai-section">
                <div class="dictionary-section-title">
                  <i data-lucide="sparkles"></i>
                  AI é‡Šä¹‰
                  <div style="margin-left: auto; display: flex; gap: 0.5rem;">
                    <button id="aiServiceToggle" class="btn btn-sm" style="height: 1.5rem; padding: 0.25rem 0.5rem; font-size: 0.7rem;">
                      <i data-lucide="cpu" style="width: 12px; height: 12px;"></i>
                      <span id="aiServiceName">æ™ºè°±AI</span>
                    </button>
                  </div>
                </div>
                <div class="context-explanation">
                  <div class="context-label">è¯­å¢ƒè§£é‡Š</div>
                  <div class="context-text" id="contextExplanation">
                    "name" åœ¨å½“å‰è¿™å¥è¯çš„è¯­å¢ƒä¸­çš„æ„æ€æ˜¯åå­—ã€åç§°
                  </div>
                </div>
                <div class="translation-result">
                  <div class="translation-label">æ•´å¥ç¿»è¯‘</div>
                  <div class="translation-text" id="sentenceTranslation">
                    æ­¤å¤„æ˜¾ç¤ºç¿»è¯‘åçš„ä¸­æ–‡
                  </div>
                </div>
              </div>
            </div>
            
            <div id="dictionaryError" style="display: none; text-align: center; padding: 2rem;">
              <i data-lucide="alert-circle" style="color: hsl(var(--destructive)); margin-bottom: 0.5rem;"></i>
              <p style="color: hsl(var(--destructive));">æŸ¥è¯¢å¤±è´¥ï¼Œè¯·é‡è¯•</p>
            </div>
          </div>
        </div>
    </div>
  </div>

  <style>
    /* ==================== æ–‡æœ¬é€‰æ‹©ä¿®å¤ ====================  */
    /* å…è®¸ç”¨æˆ·é€‰æ‹©æ–‡æœ¬çš„åŒºåŸŸ */
    .dictionary-content,
    .subtitle-display,
    .subtitle-word,
    .word-result,
    .definition-group,
    .word-title,
    .word-phonetic,
    .part-of-speech,
    .definition-text,
    .translation-result,
    .ai-explanation,
    .dictionary-section,
    .context-text,
    .translation-text,
    .context-explanation,
    .ai-section {
      -webkit-user-select: text !important;
      -moz-user-select: text !important;
      -ms-user-select: text !important;
      user-select: text !important;
    }
    
    /* ä¿æŒæŒ‰é’®ä¸èƒ½é€‰æ‹©æ–‡æœ¬ */
    .btn,
    .toggle-switch,
    .theme-toggle,
    .header-content {
      -webkit-user-select: none !important;
      -moz-user-select: none !important;
      -ms-user-select: none !important;
      user-select: none !important;
    }
    
    /* å…è®¸æ ‡é¢˜åŒºåŸŸé€‰æ‹©æ–‡æœ¬ï¼Œä½†ä¿æŒæ‹–æ‹½åŠŸèƒ½ */
    .header h1 {
      -webkit-user-select: text !important;
      -moz-user-select: text !important;
      -ms-user-select: text !important;
      user-select: text !important;
    }

    /* äº‘åŒæ­¥å¯¹è¯æ¡†æ ·å¼ */
    .sync-config-section {
      padding: 1rem 0;
    }

    .sync-config-section h4 {
      font-size: 1.125rem;
      font-weight: 600;
      color: hsl(var(--foreground));
      margin-bottom: 0.5rem;
    }

    .text-muted {
      color: hsl(var(--muted-foreground));
      font-size: 0.875rem;
      margin-bottom: 1.5rem;
      line-height: 1.4;
    }

    .form-group {
      margin-bottom: 1.5rem;
    }

    .form-group label {
      display: block;
      font-size: 0.875rem;
      font-weight: 500;
      color: hsl(var(--foreground));
      margin-bottom: 0.5rem;
    }

    .input-group {
      display: flex;
      gap: 0.5rem;
    }

    .input-group input {
      flex: 1;
      padding: 0.5rem 0.75rem;
      border: 1px solid hsl(var(--border));
      border-radius: calc(var(--radius) - 2px);
      background: hsl(var(--background));
      color: hsl(var(--foreground));
      font-size: 0.875rem;
    }

    .input-group input:focus {
      outline: none;
      border-color: hsl(var(--primary));
      box-shadow: 0 0 0 2px hsl(var(--primary) / 0.2);
    }

    .sync-status {
      background: hsl(var(--muted) / 0.1);
      border: 1px solid hsl(var(--border));
      border-radius: var(--radius);
      padding: 1rem;
      margin-bottom: 1.5rem;
    }

    .status-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 0.5rem;
    }

    .status-item:last-child {
      margin-bottom: 0;
    }

    .status-label {
      font-size: 0.875rem;
      color: hsl(var(--muted-foreground));
    }

    .status-value {
      font-size: 0.875rem;
      font-weight: 500;
      color: hsl(var(--foreground));
    }

    .sync-actions {
      display: flex;
      gap: 0.75rem;
      flex-wrap: wrap;
    }

    .sync-actions .btn {
      flex: 1;
      min-width: 120px;
    }

    /* APIé…ç½®å¯¹è¯æ¡†æ ·å¼ */
    .api-config-section {
      margin-bottom: 2rem;
    }

    .api-config-section h4 {
      font-size: 1.125rem;
      font-weight: 600;
      color: hsl(var(--foreground));
      margin-bottom: 0.5rem;
    }

    .api-service-card {
      background: hsl(var(--card));
      border: 1px solid hsl(var(--border));
      border-radius: var(--radius);
      padding: 1rem;
      margin-bottom: 1rem;
    }

    .service-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
    }

    .service-info h5 {
      font-size: 1rem;
      font-weight: 500;
      color: hsl(var(--foreground));
      margin: 0 0 0.25rem 0;
    }

    .service-status {
      font-size: 0.75rem;
      padding: 0.125rem 0.5rem;
      border-radius: 9999px;
      font-weight: 500;
    }

    .service-status.configured {
      background: hsl(var(--primary) / 0.1);
      color: hsl(var(--primary));
    }

    .service-status.not-configured {
      background: hsl(var(--muted) / 0.5);
      color: hsl(var(--muted-foreground));
    }

    /* å¼€å…³æ ·å¼ */
    .switch {
      position: relative;
      display: inline-block;
      width: 44px;
      height: 24px;
    }

    .switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: hsl(var(--muted));
      transition: 0.2s;
      border-radius: 24px;
    }

    .slider:before {
      position: absolute;
      content: "";
      height: 18px;
      width: 18px;
      left: 3px;
      bottom: 3px;
      background-color: white;
      transition: 0.2s;
      border-radius: 50%;
    }

    input:checked + .slider {
      background-color: hsl(var(--primary));
    }

    input:checked + .slider:before {
      transform: translateX(20px);
    }

    .api-config-actions {
      display: flex;
      gap: 0.75rem;
      justify-content: flex-end;
      margin-top: 2rem;
      padding-top: 1rem;
      border-top: 1px solid hsl(var(--border));
    }

    .api-config-actions .btn {
      min-width: 120px;
    }

    /* å¯†ç è¾“å…¥æ¡†çœ¼ç›å›¾æ ‡æŒ‰é’® */
    .input-group .btn-secondary {
      padding: 0.5rem;
      min-width: auto;
      width: 2.5rem;
      height: 2.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .input-group .btn-secondary i {
      width: 16px;
      height: 16px;
    }
  </style>

  <!-- APIé…ç½®å¯¹è¯æ¡† -->
  <div class="dialog-overlay" id="apiConfigDialog" style="display: none;">
    <div class="dialog">
      <div class="dialog-header">
        <h3>APIæœåŠ¡é…ç½®</h3>
        <button class="btn btn-ghost" id="closeApiConfigDialog">
          <i data-lucide="x"></i>
        </button>
      </div>
      <div class="dialog-content">
        <!-- ç¿»è¯‘æœåŠ¡é…ç½® -->
        <div class="api-config-section">
          <h4>ç¿»è¯‘æœåŠ¡</h4>
          <p class="text-muted">é…ç½®Googleç¿»è¯‘å’ŒDeepLç¿»è¯‘çš„APIå¯†é’¥</p>
          
          <!-- Googleç¿»è¯‘é…ç½® -->
          <div class="api-service-card">
            <div class="service-header">
              <div class="service-info">
                <h5>Googleç¿»è¯‘</h5>
                <span class="service-status" id="googleTranslateStatus">æœªé…ç½®</span>
              </div>
              <div class="service-toggle">
                <label class="switch">
                  <input type="checkbox" id="googleTranslateEnabled">
                  <span class="slider"></span>
                </label>
              </div>
            </div>
            <div class="form-group">
              <label for="googleTranslateKey">APIå¯†é’¥ï¼š</label>
              <div class="input-group">
                <input type="password" id="googleTranslateKey" placeholder="è¯·è¾“å…¥Googleç¿»è¯‘APIå¯†é’¥">
                <button class="btn btn-secondary" id="toggleGoogleKeyVisibility" type="button">
                  <i data-lucide="eye" id="googleEyeIcon"></i>
                </button>
              </div>
            </div>
          </div>
          
          <!-- DeepLç¿»è¯‘é…ç½® -->
          <div class="api-service-card">
            <div class="service-header">
              <div class="service-info">
                <h5>DeepLç¿»è¯‘</h5>
                <span class="service-status" id="deeplTranslateStatus">æœªé…ç½®</span>
              </div>
              <div class="service-toggle">
                <label class="switch">
                  <input type="checkbox" id="deeplTranslateEnabled">
                  <span class="slider"></span>
                </label>
              </div>
            </div>
            <div class="form-group">
              <label for="deeplTranslateKey">APIå¯†é’¥ï¼š</label>
              <div class="input-group">
                <input type="password" id="deeplTranslateKey" placeholder="è¯·è¾“å…¥DeepLç¿»è¯‘APIå¯†é’¥">
                <button class="btn btn-secondary" id="toggleDeeplKeyVisibility" type="button">
                  <i data-lucide="eye" id="deeplEyeIcon"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
        
        <!-- AIæœåŠ¡é…ç½® -->
        <div class="api-config-section">
          <h4>AIæœåŠ¡</h4>
          <p class="text-muted">é…ç½®DeepSeekå’Œæ™ºè°±AIçš„APIå¯†é’¥</p>
          
          <!-- DeepSeeké…ç½® -->
          <div class="api-service-card">
            <div class="service-header">
              <div class="service-info">
                <h5>DeepSeek AI</h5>
                <span class="service-status" id="deepseekStatus">æœªé…ç½®</span>
              </div>
              <div class="service-toggle">
                <label class="switch">
                  <input type="checkbox" id="deepseekEnabled">
                  <span class="slider"></span>
                </label>
              </div>
            </div>
            <div class="form-group">
              <label for="deepseekKey">APIå¯†é’¥ï¼š</label>
              <div class="input-group">
                <input type="password" id="deepseekKey" placeholder="è¯·è¾“å…¥DeepSeek APIå¯†é’¥">
                <button class="btn btn-secondary" id="toggleDeepseekKeyVisibility" type="button">
                  <i data-lucide="eye" id="deepseekEyeIcon"></i>
                </button>
              </div>
            </div>
          </div>
          
          <!-- æ™ºè°±AIé…ç½® -->
          <div class="api-service-card">
            <div class="service-header">
              <div class="service-info">
                <h5>æ™ºè°±AI</h5>
                <span class="service-status" id="zhipuStatus">æœªé…ç½®</span>
              </div>
              <div class="service-toggle">
                <label class="switch">
                  <input type="checkbox" id="zhipuEnabled">
                  <span class="slider"></span>
                </label>
              </div>
            </div>
            <div class="form-group">
              <label for="zhipuKey">APIå¯†é’¥ï¼š</label>
              <div class="input-group">
                <input type="password" id="zhipuKey" placeholder="è¯·è¾“å…¥æ™ºè°±AI APIå¯†é’¥">
                <button class="btn btn-secondary" id="toggleZhipuKeyVisibility" type="button">
                  <i data-lucide="eye" id="zhipuEyeIcon"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
        
        <!-- æ“ä½œæŒ‰é’® -->
        <div class="api-config-actions">
          <button class="btn btn-primary" id="saveApiConfigBtn">
            <i data-lucide="save"></i>
            ä¿å­˜é…ç½®
          </button>
          <button class="btn btn-secondary" id="resetApiConfigBtn">
            <i data-lucide="refresh-cw"></i>
            é‡ç½®é…ç½®
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- äº‘åŒæ­¥é…ç½®å¯¹è¯æ¡† -->
  <div class="dialog-overlay" id="cloudSyncDialog" style="display: none;">
    <div class="dialog">
      <div class="dialog-header">
        <h3>äº‘åŒæ­¥è®¾ç½®</h3>
        <button class="btn btn-ghost" id="closeCloudSyncDialog">
          <i data-lucide="x"></i>
        </button>
      </div>
      <div class="dialog-content">
        <div class="sync-config-section">
          <h4>åšæœäº‘åŒæ­¥é…ç½®</h4>
          <p class="text-muted">é€‰æ‹©åšæœäº‘åŒæ­¥æ–‡ä»¶å¤¹ï¼Œå®ç°å¤šè®¾å¤‡é—´å•è¯æœ¬åŒæ­¥</p>
          
          <div class="form-group">
            <label for="syncFolderPath">åŒæ­¥æ–‡ä»¶å¤¹è·¯å¾„ï¼š</label>
            <div class="input-group">
              <input type="text" id="syncFolderPath" placeholder="è¯·é€‰æ‹©åšæœäº‘åŒæ­¥æ–‡ä»¶å¤¹" readonly>
              <button class="btn btn-secondary" id="selectSyncFolderBtn">
                <i data-lucide="folder"></i>
                é€‰æ‹©æ–‡ä»¶å¤¹
              </button>
            </div>
          </div>
          
          <div class="sync-status" id="syncStatus">
            <div class="status-item">
              <span class="status-label">åŒæ­¥çŠ¶æ€ï¼š</span>
              <span class="status-value" id="syncStatusText">æœªé…ç½®</span>
            </div>
            <div class="status-item">
              <span class="status-label">æœ€ååŒæ­¥ï¼š</span>
              <span class="status-value" id="lastSyncTime">ä»æœªåŒæ­¥</span>
            </div>
          </div>
          
          <div class="sync-actions">
            <button class="btn btn-primary" id="enableSyncBtn" disabled>
              <i data-lucide="cloud-upload"></i>
              å¯ç”¨äº‘åŒæ­¥
            </button>
            <button class="btn btn-secondary" id="disableSyncBtn" style="display: none;">
              <i data-lucide="cloud-off"></i>
              ç¦ç”¨äº‘åŒæ­¥
            </button>
            <button class="btn btn-secondary" id="forceSyncBtn" style="display: none;">
              <i data-lucide="refresh-cw"></i>
              ç«‹å³åŒæ­¥
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // åˆå§‹åŒ– Lucide å›¾æ ‡
    lucide.createIcons();
  </script>
  <script src="app.js"></script>
</body>
</html>